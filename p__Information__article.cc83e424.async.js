"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[132],{52797:function(oe,I,a){a.r(I),a.d(I,{default:function(){return N}});var re=a(26068),u=a.n(re),te=a(90228),l=a.n(te),ne=a(87999),c=a.n(ne),f=a(48305),O=a.n(f),M=a(61476),ae=a(44721),B=a(78699),ue=a(50715),w=a(70264),T=a(23158),K=a(82773),R=a(75271),G=a(42192),se=a(27638),L=a(70250),pe=a(70402),q=a(56012),ie=a(48780),W=a.n(ie),me=a(36984),z=a(43046),le=a(10422),d=a(52676),de=function(x){var $,C=x.done,Z=x.visible,y=x.current,F=x.onDone,D=x.onSubmit,_=(0,w.useIntl)(),E=(0,w.useRequest)(function(){return(0,M.i3)({current:1,pageSize:100})}),J=E.data,j=(0,R.useState)(""),k=O()(j,2),P=k[0],r=k[1],t=(0,R.useRef)(),n={toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["image"],["clean"]]}},p=function(){var i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.setAttribute("multiple","multiple"),i.click(),i.onchange=c()(l()().mark(function g(){return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:Array.from(i.files).forEach(function(b){var S=new FormData,U=b.name,s=b.type,Y=b.size;if(s!="image/jpeg"&&s!="image/png"){T.ZP.error("\u53EA\u5141\u8BB8JPG\u548CPNG\u683C\u5F0F\u56FE\u7247");return}var V=Y/1024/1024<2;if(!V){T.ZP.error("\u5355\u4E2A\u56FE\u7247\u4E0D\u5141\u8BB8\u5927\u4E8E2M");return}S.append("imageFile",b,U),le.Z.post("https://front.szqws.com/api/manage/file/upload_image",S,{headers:{token:localStorage.getItem("token")}}).then(function(ee){var ge=ee.data,h=ge.message,he=t.current.getEditor().getSelection(!0).index;t.current.getEditor().insertEmbed(he,"image",h),t.current.getEditor().setSelection(he+1)})});case 1:case"end":return m.stop()}},g)}))},e=function(i){t.current=i,i&&(i.getEditor().getModule("toolbar").handlers.image=p)},Q={};Q[0]={text:"\u8BF7\u9009\u62E9\u5206\u7C7B",value:"0"};var X=J||[];if(X&&X.map(function(o){Q[o.id]={text:o.name,value:o.id}}),!Z)return null;var A=function(i){return(0,d.jsx)(W(),{theme:"snow",defaultValue:i,ref:function(v){return e(v)},modules:n,onChange:r})};return(0,d.jsx)(G.Y,{open:Z,title:C?null:"".concat(y!=null&&y.id?_.formatMessage({id:"pages.edit"}):_.formatMessage({id:"pages.new"})),className:z.Z.standardListForm,width:640,onFinish:function(){var o=c()(l()().mark(function i(g){return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:g.body=P,D(g);case 2:case"end":return m.stop()}},i)}));return function(i){return o.apply(this,arguments)}}(),initialValues:y,submitter:{render:function(i,g){return C?null:g}},modalProps:{onCancel:function(){return F()},destroyOnClose:!0},children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(se.Z,{name:"articleTypeId",width:"lg",label:_.formatMessage({id:"pages.article.type.name.label"}),valueEnum:Q,initialValue:y?(y==null||($=y.articleType)===null||$===void 0?void 0:$.id)+"":"0"}),(0,d.jsx)(L.Z,{name:"title",label:_.formatMessage({id:"pages.article.title"}),width:"lg",rules:[{required:!0}],placeholder:_.formatMessage({id:"pages.article.title.placeholder"})}),(0,d.jsx)(pe.Z,{name:"inro",label:"\u5185\u5BB9\u63CF\u8FF0",rules:[{message:_.formatMessage({id:"pages.article.inro.required"}),min:5}],placeholder:_.formatMessage({id:"pages.article.inro.placeholder"})}),(0,d.jsx)("p",{children:_.formatMessage({id:"pages.article.body"})}),A(y==null?void 0:y.body),(0,d.jsx)(L.Z,{name:"contentTxtUrl",hidden:!0}),(0,d.jsx)(q.Z,{name:"id",hidden:!0})]})})},H=de,fe=function(){var x=(0,R.useState)(!1),$=O()(x,2),C=$[0],Z=$[1],y=(0,R.useState)(!1),F=O()(y,2),D=F[0],_=F[1],E=(0,R.useRef)(),J=(0,R.useState)(void 0),j=O()(J,2),k=j[0],P=j[1],r=(0,w.useIntl)(),t={showSizeChanger:!0,showQuickJumper:!0},n=function(){var A=c()(l()().mark(function o(i){var g,v,m,b,S;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i){s.next=2;break}return s.abrupt("return",!0);case 2:return s.prev=2,g=T.ZP.loading(r.formatMessage({id:"pages.tip.loading"}),0),v={id:i},s.next=7,(0,M.fq)(v);case 7:if(m=s.sent,b=m.data,S=m.success,g(),!S){s.next=15;break}return P(b),_(!0),s.abrupt("return",!0);case 15:return s.abrupt("return",!1);case 18:return s.prev=18,s.t0=s.catch(2),T.ZP.error(r.formatMessage({id:"pages.tip.error"})),s.abrupt("return",!1);case 22:case"end":return s.stop()}},o,null,[[2,18]])}));return function(i){return A.apply(this,arguments)}}(),p=function(){var A=c()(l()().mark(function o(i){var g,v,m,b,S,U,s,Y,V,ee;return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.prev=0,g=i!=null&&i.id?"update":"add",v=T.ZP.loading(r.formatMessage({id:"pages.tip.loading"}),0),g!="add"){h.next=13;break}return h.next=6,(0,M.qM)(u()({},i));case 6:return m=h.sent,b=m.success,v(),b&&(T.ZP.success(r.formatMessage({id:"pages.tip.success"})),_(!1),P(void 0),E.current&&((S=(U=E.current).reloadAndRest)===null||S===void 0||S.call(U))),h.abrupt("return");case 13:if(g!="update"){h.next=21;break}return h.next=16,(0,M.Xc)(u()({},i));case 16:return s=h.sent,Y=s.success,v(),Y&&(T.ZP.success(r.formatMessage({id:"pages.tip.success"})),_(!1),P(void 0),E.current&&((V=(ee=E.current).reloadAndRest)===null||V===void 0||V.call(ee))),h.abrupt("return");case 21:h.next=28;break;case 23:return h.prev=23,h.t0=h.catch(0),T.ZP.error(r.formatMessage({id:"pages.tip.error"})),_(!1),h.abrupt("return");case 28:case"end":return h.stop()}},o,null,[[0,23]])}));return function(i){return A.apply(this,arguments)}}(),e=function(){var A=c()(l()().mark(function o(i){var g,v,m,b,S;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i){s.next=2;break}return s.abrupt("return",!0);case 2:return s.prev=2,g=T.ZP.loading(r.formatMessage({id:"pages.tip.loading"}),0),s.next=6,(0,M.RJ)({id:i.id});case 6:if(v=s.sent,m=v.success,g(),!m){s.next=13;break}return T.ZP.success(r.formatMessage({id:"pages.tip.success"})),(b=E.current)===null||b===void 0||(S=b.reload)===null||S===void 0||S.call(b),s.abrupt("return",!0);case 13:return s.abrupt("return",!1);case 16:return s.prev=16,s.t0=s.catch(2),T.ZP.error(r.formatMessage({id:"pages.tip.error"})),s.abrupt("return",!1);case 20:case"end":return s.stop()}},o,null,[[2,16]])}));return function(i){return A.apply(this,arguments)}}(),Q=function(){Z(!1),_(!1),P(void 0)},X=[{title:(0,d.jsx)(w.FormattedMessage,{id:"pages.create.time"}),dataIndex:"createTime",valueType:"dateTime",align:"center",width:"100px"},{title:(0,d.jsx)(w.FormattedMessage,{id:"pages.article.type"}),dataIndex:["articleType","name"],valueType:"text",width:"100px"},{title:(0,d.jsx)(w.FormattedMessage,{id:"pages.article.title"}),dataIndex:"title",valueType:"text",width:"360px",ellipsis:!0},{title:(0,d.jsx)(w.FormattedMessage,{id:"pages.option"}),dataIndex:"option",valueType:"option",width:"120px",align:"center",render:function(o,i){return[(0,d.jsx)("a",{onClick:function(){n(i.id)},children:(0,d.jsx)(w.FormattedMessage,{id:"pages.edit"})},"edit"),(0,d.jsx)("a",{onClick:function(){var v,m;e(i),(v=E.current)===null||v===void 0||(m=v.reloadAndRest)===null||m===void 0||m.call(v)},children:(0,d.jsx)(w.FormattedMessage,{id:"pages.delete"})},"delete")]}}];return(0,d.jsxs)("div",{children:[(0,d.jsx)(B._z,{children:(0,d.jsx)(ue.ZP,{headerTitle:"",actionRef:E,rowKey:function(o){return o.id},search:!1,pagination:t,toolBarRender:function(){return[(0,d.jsxs)(K.ZP,{type:"primary",onClick:function(){_(!0),P(void 0)},children:[(0,d.jsx)(ae.Z,{})," ",(0,d.jsx)(w.FormattedMessage,{id:"pages.new"})]},"primary")]},request:M.j,columns:X})}),(0,d.jsx)(H,{done:C,visible:D,current:k,onDone:Q,onSubmit:p})]})},N=fe},61476:function(oe,I,a){a.d(I,{Dh:function(){return me},Dy:function(){return k},Hu:function(){return ce},IX:function(){return $},KK:function(){return ie},Qx:function(){return F},RJ:function(){return R},Xc:function(){return ue},b$:function(){return de},fC:function(){return _},fq:function(){return ae},i3:function(){return se},j:function(){return O},kF:function(){return J},qM:function(){return T},rK:function(){return le},uH:function(){return Z}});var re=a(90228),u=a.n(re),te=a(26068),l=a.n(te),ne=a(87999),c=a.n(ne),f=a(70264);function O(r,t){return M.apply(this,arguments)}function M(){return M=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/list",l()({method:"POST",params:l()({},t)},n||{})));case 1:case"end":return e.stop()}},r)})),M.apply(this,arguments)}function ae(r,t){return B.apply(this,arguments)}function B(){return B=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/get",l()({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),B.apply(this,arguments)}function ue(r,t){return w.apply(this,arguments)}function w(){return w=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/update",l()({data:t,method:"PUT"},n||{})));case 1:case"end":return e.stop()}},r)})),w.apply(this,arguments)}function T(r,t){return K.apply(this,arguments)}function K(){return K=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/add",l()({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),K.apply(this,arguments)}function R(r,t){return G.apply(this,arguments)}function G(){return G=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/delete",l()({data:t,method:"DELETE"},n||{})));case 1:case"end":return e.stop()}},r)})),G.apply(this,arguments)}function se(r,t){return L.apply(this,arguments)}function L(){return L=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/type/list",l()({method:"POST",params:l()({},t)},n||{})));case 1:case"end":return e.stop()}},r)})),L.apply(this,arguments)}function pe(r,t){return q.apply(this,arguments)}function q(){return q=_asyncToGenerator(_regeneratorRuntime().mark(function r(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("api/manage/article/type/get",_objectSpread({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),q.apply(this,arguments)}function ie(r,t){return W.apply(this,arguments)}function W(){return W=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/type/update",l()({data:t,method:"PUT"},n||{})));case 1:case"end":return e.stop()}},r)})),W.apply(this,arguments)}function me(r,t){return z.apply(this,arguments)}function z(){return z=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/type/add",l()({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),z.apply(this,arguments)}function le(r,t){return d.apply(this,arguments)}function d(){return d=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/article/type/delete",l()({data:t,method:"DELETE"},n||{})));case 1:case"end":return e.stop()}},r)})),d.apply(this,arguments)}function de(r,t){return H.apply(this,arguments)}function H(){return H=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/express/list",l()({method:"POST",params:l()({},t)},n||{})));case 1:case"end":return e.stop()}},r)})),H.apply(this,arguments)}function fe(r,t){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function r(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("api/manage/express/get",_objectSpread({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),N.apply(this,arguments)}function ce(r,t){return x.apply(this,arguments)}function x(){return x=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/express/update",l()({data:t,method:"PUT"},n||{})));case 1:case"end":return e.stop()}},r)})),x.apply(this,arguments)}function $(r,t){return C.apply(this,arguments)}function C(){return C=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/express/add",l()({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),C.apply(this,arguments)}function Z(r,t){return y.apply(this,arguments)}function y(){return y=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/express/delete",l()({data:t,method:"DELETE"},n||{})));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function F(r,t){return D.apply(this,arguments)}function D(){return D=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/sentiment_index/list",l()({method:"POST",params:l()({},t)},n||{})));case 1:case"end":return e.stop()}},r)})),D.apply(this,arguments)}function _(r,t){return E.apply(this,arguments)}function E(){return E=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/sentiment_index/add",l()({data:t,method:"POST"},n||{})));case 1:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function J(r,t){return j.apply(this,arguments)}function j(){return j=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/sentiment_index/update",l()({data:t,method:"PUT"},n||{})));case 1:case"end":return e.stop()}},r)})),j.apply(this,arguments)}function k(r,t){return P.apply(this,arguments)}function P(){return P=c()(u()().mark(function r(t,n){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("api/manage/sentiment_index/delete",l()({data:t,method:"DELETE"},n||{})));case 1:case"end":return e.stop()}},r)})),P.apply(this,arguments)}},43046:function(oe,I){I.Z={standardList:"standardList___nrprJ",headerInfo:"headerInfo___B2kKR",listContent:"listContent___ENAwW",listContentItem:"listContentItem___B47dt",extraContentSearch:"extraContentSearch___yZu_S",listCard:"listCard___dkL7p",standardListForm:"standardListForm___oQpn4",formResult:"formResult___V2ZEH"}}}]);
