"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[72],{10485:function(Ae,W,n){n.r(W),n.d(W,{default:function(){return Le}});var X=n(90228),Z=n.n(X),q=n(87999),U=n.n(q),_=n(48305),V=n.n(_),ee=n(49351),Y=n(70264),D=n(65062),f=n(31914),b=n(75271),ae=n(26068),s=n.n(ae),j=n(53185),te=n(4587),T=n.n(te),ne=n(82092),m=n.n(ne),N=n(40437),ie=(0,N.kc)(function(i){var e=i.token;return{iconGroup:{"span.anticon":{marginLeft:"16px",color:e.colorTextSecondary,cursor:"pointer",transition:"color 0.32s","&:hover":{color:e.colorText}}},rankingList:m()({margin:"25px 0 0",padding:"0",listStyle:"none",li:{display:"flex",alignItems:"center",marginTop:"16px",zoom:"1","&::before, &::after":{display:"table",content:"' '"},"&::after":{clear:"both",height:"0",fontSize:"0",visibility:"hidden"}}},"@media screen and (max-width: ".concat(e.screenLG,"px)"),{li:{"span:first-child":{marginRight:"8px"}}}),rankingItemNumber:{display:"inline-block",width:"20px",height:"20px",marginTop:"1.5px",marginRight:"16px",fontWeight:"600",fontSize:"12px",lineHeight:"20px",textAlign:"center",borderRadius:"20px",backgroundColor:e.colorBgContainerDisabled},rankingItemTitle:{flex:"1",marginRight:"8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},rankingItemNumberActive:{display:"inline-block",width:"20px",height:"20px",marginTop:"1.5px",marginRight:"16px",fontWeight:"600",fontSize:"12px",lineHeight:"20px",textAlign:"center",borderRadius:"20px",color:"#fff",backgroundColor:e.colorBgSpotlight},salesExtra:m()({display:"inline-block",marginRight:"24px",a:{marginLeft:"24px",color:e.colorText,"&:hover":{color:e.colorPrimary}}},"@media screen and (max-width: ".concat(e.screenLG,"px)"),{display:"none"}),currentDate:{color:e.colorPrimary},salesBar:m()({padding:"0 0 32px 32px"},"@media screen and (max-width: ".concat(e.screenMD,"px)"),{padding:"16px"}),salesRank:{padding:"0 32px 32px 72px"},salesCard:m()(m()({".ant-tabs-bar, .ant-tabs-nav-wrap":{paddingLeft:"16px",".ant-tabs-nav .ant-tabs-tab":{paddingTop:"16px",paddingBottom:"14px",lineHeight:"24px"}},".ant-tabs-extra-content":{paddingRight:"24px",lineHeight:"55px"},".ant-card-head":{position:"relative"},".ant-card-head-title":{alignItems:"normal"}},"@media screen and (max-width: ".concat(e.screenMD,"px)"),{padding:"16px"}),"@media screen and (max-width: ".concat(e.screenSM,"px)"),{".ant-tabs-content":{paddingTop:"30px"}}),salesCardExtra:{height:"inherit"},salesTypeRadio:{position:"absolute",right:"54px",bottom:"12px"},offlineCard:{".ant-tabs-ink-bar":{bottom:"auto"},".ant-tabs-bar":{borderBottom:"none"},".ant-tabs-nav-container-scrolling":{paddingRight:"40px",paddingLeft:"40px"},".ant-tabs-tab-prev-icon::before":{position:"relative",left:"6px"},".ant-tabs-tab-next-icon::before":{position:"relative",right:"6px"},".ant-tabs-tab-active h4":{color:e.colorPrimary}},trendText:{marginLeft:"8px",color:e.colorTextHeading},rankingTitle:m()({},"@media screen and (max-width: ".concat(e.screenMD,"px)"),{marginTop:"16px"}),salesExtraWrap:m()({},"@media screen and (max-width: ".concat(e.screenSM,"px)"),{display:"none"})}}),w=ie,re=n(67825),$=n.n(re),oe=n(31759),le=n.n(oe),A=n(6650),se=n(82187),J=n.n(se),de=(0,N.kc)(function(i){var e=i.token;return{chartCard:{position:"relative"},chartTop:{position:"relative",width:"100%",overflow:"hidden"},chartTopMargin:{marginBottom:"12px"},chartTopHasMargin:{marginBottom:"20px"},metaWrap:{float:"left"},avatar:{position:"relative",top:"4px",float:"left",marginRight:"20px",img:{borderRadius:"100%"}},meta:{height:"22px",color:e.colorTextSecondary,fontSize:e.fontSize,lineHeight:"22px"},action:{position:"absolute",top:"4px",right:"0",lineHeight:"1",cursor:"pointer"},total:{height:"38px",marginTop:"4px",marginBottom:"0",overflow:"hidden",color:e.colorTextHeading,fontSize:"30px",lineHeight:"38px",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"break-all"},content:{position:"relative",width:"100%",marginBottom:"12px"},contentFixed:{position:"absolute",bottom:"0",left:"0",width:"100%"},footer:{marginTop:"8px",paddingTop:"9px",borderTop:"1px solid ".concat(e.colorSplit),"& > *":{position:"relative"}},footerMargin:{marginTop:"20px"}}}),ce=de,a=n(52676),xe=["loading","contentHeight","title","avatar","action","total","footer","children"],he=function(e){var r=ce(),t=r.styles,o=function(p){if(!p&&p!==0)return null;var y;switch(le()(p)){case"undefined":y=null;break;case"function":y=(0,a.jsx)("div",{className:t.total,children:p()});break;default:y=(0,a.jsx)("div",{className:t.total,children:p})}return y},l=function(){var p=e.contentHeight,y=e.title,G=e.avatar,S=e.action,v=e.total,h=e.footer,L=e.children,Ne=e.loading;return Ne?!1:(0,a.jsxs)("div",{className:t.chartCard,children:[(0,a.jsxs)("div",{className:J()(t.chartTop,m()({},t.chartTopMargin,!L&&!h)),children:[(0,a.jsx)("div",{className:t.avatar,children:G}),(0,a.jsxs)("div",{className:t.metaWrap,children:[(0,a.jsxs)("div",{className:t.meta,children:[(0,a.jsx)("span",{children:y}),(0,a.jsx)("span",{className:t.action,children:S})]}),o(v)]})]}),L&&(0,a.jsx)("div",{className:t.content,style:{height:p||"auto"},children:(0,a.jsx)("div",{className:p&&t.contentFixed,children:L})}),h&&(0,a.jsx)("div",{className:J()(t.footer,m()({},t.footerMargin,!L)),children:h})]})},c=e.loading,u=c===void 0?!1:c,F=e.contentHeight,x=e.title,M=e.avatar,k=e.action,R=e.total,d=e.footer,H=e.children,B=$()(e,xe);return(0,a.jsx)(A.Z,s()(s()({loading:u,style:{padding:"20px 24px 8px 24px"}},B),{},{children:l()}))},C=he,ge=(0,N.kc)(function(i){var e=i.token;return{field:{margin:"0",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},label:{fontSize:e.fontSize,lineHeight:"22px"},number:{marginLeft:"8px",color:e.colorTextHeading}}}),ue=ge,pe=["label","value"],ve=function(e){var r=e.label,t=e.value,o=$()(e,pe),l=ue(),c=l.styles;return(0,a.jsxs)("div",s()(s()({className:c.field},o),{},{children:[(0,a.jsx)("span",{className:c.label,children:r}),(0,a.jsx)("span",{className:c.number,children:t})]}))},fe=ve,me=function(e){return"\xA5 ".concat(T()(e).format("0,0"))},Ie={yuan:me,ChartCard:C,Field:fe},P={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},ye=function(e){var r=e.loading,t=e.row1Data,o=w(),l=o.styles;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.Z,{gutter:24,children:[(0,a.jsx)(f.Z,s()(s()({},P),{},{children:(0,a.jsx)(C,{bordered:!1,title:"\u7528\u6237\u603B\u91CF",loading:r,total:T()(t.userTotal).format("0,0"),footer:(0,a.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}}),contentHeight:76,children:(0,a.jsx)(j.Z,{xField:"x",yField:"y",height:76,margin:32,marginLeft:10,paddingBottom:-20,scale:{x:{paddingInner:.8}},tooltip:{name:"\u7528\u6237\u589E\u957F\u66F2\u7EBF",channel:"y"},axis:!1,data:t.userTotalList})})})),(0,a.jsx)(f.Z,s()(s()({},P),{},{children:(0,a.jsx)(C,{loading:r,title:"\u73B0\u8D27\u4EA4\u6613\u603B\u91CF(USDT)",total:T()(t.spotTradeTotal).format("0,0"),footer:(0,a.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}}),contentHeight:76,children:(0,a.jsx)(j.Z,{xField:"x",yField:"y",height:76,margin:32,marginLeft:10,paddingBottom:-20,scale:{x:{paddingInner:.8}},tooltip:{name:"\u4EA4\u6613\u91D1\u989D",channel:"y"},axis:!1,data:t.spotTradeTotalList})})})),(0,a.jsx)(f.Z,s()(s()({},P),{},{children:(0,a.jsx)(C,{bordered:!1,loading:r,title:"\u73B0\u8D27\u6536\u76CA\u603B\u91CF(USDT)",total:T()(t.spotProfitTotal).format("0,0"),footer:(0,a.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}}),contentHeight:76,children:(0,a.jsx)(j.Z,{xField:"x",yField:"y",height:76,margin:32,marginLeft:10,paddingBottom:-20,scale:{x:{paddingInner:.8}},tooltip:{name:"\u6536\u76CA\u91D1\u989D",channel:"y"},axis:!1,data:t.spotProfitTotalList})})}))]}),(0,a.jsxs)(D.Z,{gutter:24,children:[(0,a.jsx)(f.Z,s()(s()({},P),{},{children:(0,a.jsx)(C,{loading:r,title:"\u5408\u7EA6\u4EA4\u6613\u603B\u91CF(USDT)",total:T()(t.futureTradeTotal).format("0,0"),footer:(0,a.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}}),contentHeight:76,children:(0,a.jsx)(j.Z,{xField:"x",yField:"y",height:76,margin:32,marginLeft:10,paddingBottom:-20,scale:{x:{paddingInner:.8}},tooltip:{name:"\u91D1\u989D",channel:"y"},axis:!1,data:t.futureTradeTotalList})})})),(0,a.jsx)(f.Z,s()(s()({},P),{},{children:(0,a.jsx)(C,{loading:r,title:"\u5408\u7EA6\u76C8\u5229\u603B\u91CF(USDT)",total:T()(t.futureProfitTotal).format("0,0"),footer:(0,a.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}}),contentHeight:76,children:(0,a.jsx)(j.Z,{xField:"x",yField:"y",height:76,margin:32,marginLeft:10,paddingBottom:-20,scale:{x:{paddingInner:.8}},tooltip:{name:"\u91D1\u989D",channel:"y"},axis:!1,data:t.futureProfitTotalList})})}))]})]})},je=ye,Te=n(33881),K=function(){return(0,a.jsx)("div",{style:{paddingTop:100,textAlign:"center"},children:(0,a.jsx)(Te.Z,{size:"large"})})},Se=n(30357),Ce=n(9846),I=n(26701),ze=Ce.Z.Text,Fe=function(e){var r=e.category,t=e.loading,o=e.pieData,l=e.handleChangeCategory,c=w(),u=c.styles;return(0,a.jsx)(A.Z,{loading:t,className:u.salesCard,bordered:!1,title:"\u4EA4\u6613\u5BF9\u5206\u5E03\u56FE",style:{height:"100%"},extra:(0,a.jsx)("div",{className:u.salesCardExtra,children:(0,a.jsx)("div",{className:u.salesTypeRadio,children:(0,a.jsxs)(I.ZP.Group,{value:r,onChange:l,children:[(0,a.jsx)(I.ZP.Button,{value:"SPOT",children:"\u73B0\u8D27"}),(0,a.jsx)(I.ZP.Button,{value:"FUTURE",children:"\u5408\u7EA6"})]})})}),children:(0,a.jsx)("div",{children:(0,a.jsx)(Se.Z,{height:340,radius:.8,innerRadius:.5,angleField:"y",colorField:"x",data:o,legend:{color:{position:"left"}},label:{position:"outside",text:function(x){return"".concat(x.x,": ").concat(T()(x.y).format("0,0"))},transform:[{type:"overlapDodgeY"}]}})})})},De=Fe,be=n(28865),Pe=n(62016),Ee=be.default.RangePicker,Be=function(e){var r=e.row2Data,t=e.loading,o=w(),l=o.styles;return(0,a.jsx)(A.Z,{loading:t,bordered:!1,style:{padding:0},children:(0,a.jsx)("div",{className:l.salesCard,children:(0,a.jsx)(Pe.Z,{size:"large",tabBarStyle:{marginBottom:24},items:[{key:"sales",label:"\u73B0\u8D27\u76C8\u5229\u6570\u636E",children:(0,a.jsx)(D.Z,{children:(0,a.jsx)(f.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,a.jsx)("div",{className:l.salesBar,children:(0,a.jsx)(j.Z,{height:300,data:r.spotProfitTotalList,xField:"x",yField:"y",paddingBottom:12,axis:{x:{title:!1},y:{title:!1,gridLineDash:null,gridStroke:"#ccc"}},scale:{x:{paddingInner:.4}},tooltip:{name:"\u76C8\u5229\u91D1\u989D",channel:"y"},point:{shapeField:"square",sizeField:4}})})})})},{key:"processings",label:"\u5408\u7EA6\u76C8\u5229\u6570\u636E",children:(0,a.jsx)(D.Z,{children:(0,a.jsx)(f.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,a.jsx)("div",{className:l.salesBar,children:(0,a.jsx)(j.Z,{height:300,data:r.futureProfitTotalList,xField:"x",yField:"y",paddingBottom:12,axis:{x:{title:!1},y:{title:!1,gridLineDash:null,gridStroke:"#ccc"}},scale:{x:{paddingInner:.4}},tooltip:{name:"\u76C8\u5229\u91D1\u989D",channel:"y"},point:{shapeField:"square",sizeField:4}})})})})}]})})})},Ze=Be;function we(i,e){return z.apply(this,arguments)}function z(){return z=U()(Z()().mark(function i(e,r){return Z()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,Y.request)("/api/manage/analysis/index",s()({method:"POST",params:s()({},e)},r||{})));case 1:case"end":return o.stop()}},i)})),z.apply(this,arguments)}var Re=n(16483),g=n.n(Re);function Q(i){return i*1<10?"0".concat(i):i}function E(i){var e=new Date,r=1e3*60*60*24;if(i==="today")return e.setHours(0),e.setMinutes(0),e.setSeconds(0),[g()(e),g()(e.getTime()+(r-1e3))];if(i==="week"){var t=e.getDay();e.setHours(0),e.setMinutes(0),e.setSeconds(0),t===0?t=6:t-=1;var o=e.getTime()-t*r;return[g()(o),g()(o+(7*r-1e3))]}var l=e.getFullYear();if(i==="month"){var c=e.getMonth(),u=g()(e).add(1,"months"),F=u.year(),x=u.month();return[g()("".concat(l,"-").concat(Q(c+1),"-01 00:00:00")),g()(g()("".concat(F,"-").concat(Q(x+1),"-01 00:00:00")).valueOf()-1e3)]}return[g()("".concat(l,"-01-01 00:00:00")),g()("".concat(l,"-12-31 23:59:59"))]}var He=function(){var e=w(),r=e.styles,t=(0,b.useState)("SPOT"),o=V()(t,2),l=o[0],c=o[1],u=(0,b.useState)(E("year")),F=V()(u,2),x=F[0],M=F[1],k=(0,Y.useRequest)(U()(Z()().mark(function S(){return Z()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",we({}));case 1:case"end":return h.stop()}},S)}))),R=k.loading,d=k.data,H;if(l==="SPOT"){var B;H=d==null||(B=d.row2Data)===null||B===void 0?void 0:B.pieSpotData}else H=d==null?void 0:d.row2Data.pieFutureData;var O=function(v){M(E(v))},p=function(v){M(v)},y=function(v){if(!x)return"";var h=E(v);return!h||!x[0]||!x[1]?"":x[0].isSame(h[0],"day")&&x[1].isSame(h[1],"day")?r.currentDate:""},G=function(v){c(v.target.value)};return(0,a.jsx)(ee.f,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Suspense,{fallback:(0,a.jsx)(K,{}),children:(0,a.jsx)(je,{loading:R,row1Data:(d==null?void 0:d.row1Data)||[]})}),(0,a.jsxs)(D.Z,{gutter:24,style:{marginTop:24},children:[(0,a.jsx)(f.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,a.jsx)(b.Suspense,{fallback:(0,a.jsx)(K,{}),children:(0,a.jsx)(Ze,{rangePickerValue:x,row2Data:(d==null?void 0:d.row2Data)||[],isActive:y,handleRangePickerChange:p,loading:R,selectDate:O})})}),(0,a.jsx)(f.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,a.jsx)(b.Suspense,{fallback:null,children:(0,a.jsx)(De,{category:l,loading:R,pieData:H||[],handleChangeCategory:G})})})]})]})})},Le=He}}]);
